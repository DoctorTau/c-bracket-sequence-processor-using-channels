# Использование каналов

## Выполнил

Струдент группы БПИ212: **Шатравка Даниил Александрович**

## Условие задачи

Разработать программу, которая в заданной ASCII-строке опреде-
ляет корректность вложенности круглых скобок «(» и «)».
Необходимо учесть, что вложенные скобки могут образовывать в
тексте различные группы. Например: ...(...)...(...)....

## Решение

Для решения задачи использовался язык программирования C.

Для проверки работоспособности программы были написаны [тесты](./Test/).

---

## На 4 балла

### Использование неименнованых каналов

Для решения задачи нужно было ислоьзовать 3 процесса, которые будут общаться между собой через неименнованные каналы.

### Схема работы

Родительский поток порождает 2 дочерних.

1. Родительский поток содержит в себе логику проверки сроки на правильную скобочную последовательность.
2. Первый дочерний поток содержит в себе логику чтения строки из файла.
3. Второй дочерний поток содержит в себе логику записи ответа в файл.

Потоки создаются с помощью функции `fork()`.
После создания потоков происходит закрытие неиспользуемых каналов.
Для чтения строки из файла используется функция `read()`.
Для записи ответа в файл используется функция `write()`.

### Код программы

Исходный код программы находится в папке [src](./4-score/src/).
В папке [bin](./4-score/bin/) находится исполняемый файл программы.

Пример запуска программы:

```bash
./4-score/bin/myprogram ./Test/test1.txt output.txt
```

### Результаты

Результаты тестов находятся в папке [test_results](./4-score/test_results/).

---

## На 5 баллов

### Использование неименнованых каналов

Для решения задачи нужно было ислоьзовать 3 процесса, которые будут общаться между собой через именнованные каналы.

### Схема работы

Родительский поток порождает 2 дочерних.

1. Родительский поток содержит в себе логику проверки сроки на правильную скобочную последовательность.
2. Первый дочерний поток содержит в себе логику чтения строки из файла.
3. Второй дочерний поток содержит в себе логику записи ответа в файл.

Потоки создаются с помощью функции `fork()`.
После создания потоков происходит закрытие неиспользуемых каналов.
Для чтения строки из файла используется функция `read()`.
Для записи ответа в файл используется функция `write()`.

### Потоки общения

Для общения между процессами используются именнованные каналы.
Для создания канала используется функция `mkfifo()`.
Для удаления канала используется функция `unlink()`.
Для записи в канал используется функция `write()`.
Для чтения из канала используется функция `read()`.
Потоки имеют имена `reader.fifo` и `writer.fifo`.

### Код программы

Исходный код программы находится в папке [src](./5-score/src/).
В папке [bin](./5-score/bin/) находится исполняемый файл программы.

Пример запуска программы:

```bash
./5-score/bin/myprogram ./Test/test1.txt output.txt
```

### Результаты

Результаты тестов находятся в папке [test_results](./5-score/test_results/).

---

## На 6 баллов

### Использование неименнованых каналов

Для решения задачи нужно было ислозовать 2 процесса, которые будут общаться между собой через именнованные каналы.

### Схема работы

Родительский поток порождает 1 дочерний.

1. Родительский поток содержит в себе логику проверки сроки на правильную скобочную последовательность.
2. Дочерний поток содержит в себе логику чтения строки из файла и записи ответа в файл.

Поток создаются с помощью функции `fork()`.
Для чтения строки из файла используется функция `read()`.
Для записи ответа в файл используется функция `write()`.

### Потоки общения

Для общения между процессами используются один неименнованный канал. Через него произсходит передача сторики для анализа и ответа.

### Код программы

Исходный код программы находится в папке [src](./6-score/src/).
В папке [bin](./6-score/bin/) находится исполняемый файл программы.

Пример запуска программы:

```bash
./6-score/bin/myprogram ./Test/test1.txt output.txt
```

### Результаты

Результаты тестов находятся в папке [test_results](./6-score/test_results/).

---

## На 7 баллов

### Использование неименнованых каналов

Для решения задачи нужно было ислозовать 2 процесса, которые будут общаться между собой через именнованные каналы.

### Схема работы

Родительский поток порождает 1 дочерний.

1. Родительский поток содержит в себе логику проверки сроки на правильную скобочную последовательность.
2. Дочерний поток содержит в себе логику чтения строки из файла и записи ответа в файл.

Поток создаются с помощью функции `fork()`.
Для чтения строки из файла используется функция `read()`.
Для записи ответа в файл используется функция `write()`.

### Потоки общения

Для общения между процессами используются один именнованый поток `file_io.fifo`. Через него произсходит передача сторики для анализа и ответа.

Канал создается с помощью функции `mkfifo()`.
Канал удаляется с помощью функции `unlink()`.
Для записи в канал используется функция `write()`.
Для чтения из канала используется функция `read()`.

### Код программы

Исходный код программы находится в папке [src](./7-score/src/).
В папке [bin](./7-score/bin/) находится исполняемый файл программы.

Пример запуска программы:

```bash
./7-score/bin/myprogram ./Test/test1.txt output.txt
```

### Результаты

Результаты тестов находятся в папке [test_results](./7-score/test_results/).
